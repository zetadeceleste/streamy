{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","dispatch","a","async","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","StreamEdit","editStream","match","params","stream","initialValues","_","pick","state","ownProps","patch","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","to","renderContent","renderActions","delete","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","Object","values","StreamShow","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","App","path","exact","INITIAL_STATE","combineReducers","action","mapKeys","omit","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.bd1d6790.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://streams-test-api.herokuapp.com\"\n});\n","import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();","import streams from \"../apis/streams\";\nimport history from \"../history\";\nimport {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from \"./types\";\n\nexport const signIn = userId => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = formValues => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const response = await streams.post(\"/streams\", { ...formValues, userId });\n\n  dispatch({\n    type: CREATE_STREAM,\n    payload: response.data\n  });\n  history.push(\"/\");\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get(\"/streams\");\n\n  dispatch({\n    type: FETCH_STREAMS,\n    payload: response.data\n  });\n};\n\nexport const fetchStream = id => async dispatch => {\n  const response = await streams.get(`/streams/${id}`);\n\n  dispatch({\n    type: FETCH_STREAM,\n    payload: response.data\n  });\n};\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`/streams/${id}`, formValues);\n\n  dispatch({\n    type: EDIT_STREAM,\n    payload: response.data\n  });\n  history.push(\"/\");\n};\n\nexport const deleteStream = id => async dispatch => {\n  await streams.delete(`/streams/${id}`);\n\n  dispatch({\n    type: DELETE_STREAM,\n    payload: id\n  });\n  history.push(\"/\");\n};\n","export const SIGN_IN = \"SIGN_IN\";\nexport const SIGN_OUT = \"SIGN_OUT\";\nexport const CREATE_STREAM = \"CREATE_STREAM\";\nexport const FETCH_STREAMS = \"FETCH_STREAMS\";\nexport const FETCH_STREAM = \"FETCH_STREAM\";\nexport const DELETE_STREAM = \"DELETE_STREAM\";\nexport const EDIT_STREAM = \"EDIT_STREAM\";\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\n\nclass StreamForm extends React.Component {\n  renderError({ error, touched }) {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  }\n\n  renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\n    return (\n      <div className={className}>\n        <label>{label}</label>\n        <input {...input} autoComplete=\"off\" />\n        {this.renderError(meta)}\n      </div>\n    );\n  };\n\n  onSubmit = formValues => {\n    this.props.onSubmit(formValues);\n  };\n\n  render() {\n    return (\n      <form\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\n        className=\"ui form error\"\n      >\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\n        <Field\n          name=\"description\"\n          component={this.renderInput}\n          label=\"Enter Description\"\n        />\n        <button className=\"ui button primary\">Submit</button>\n      </form>\n    );\n  }\n}\n\nconst validate = formValues => {\n  const errors = {};\n\n  if (!formValues.title) {\n    errors.title = \"You must enter a title.\";\n  }\n\n  if (!formValues.description) {\n    errors.description = \"You must enter a description.\";\n  }\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: \"streamForm\",\n  validate\n})(StreamForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamCreate extends React.Component {\n  onSubmit = formValues => {\n    this.props.createStream(formValues);\n  };\n\n  render() {\n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { createStream }\n)(StreamCreate);\n","import _ from \"lodash\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchStream, editStream } from \"../../actions\";\nimport StreamForm from \"./StreamForm\";\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = formValues => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  };\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n    return (\n      <div>\n        <h3>Edit a Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\n          onSubmit={this.onSubmit}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, editStream }\n)(StreamEdit);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div\n        onClick={e => e.stopPropagation()}\n        className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">{props.content}</div>\n        <div className=\"actions\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector(\"#modal\")\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\nimport Modal from \"../Modal\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchStream, deleteStream } from \"../../actions\";\nimport history from \"../../history\";\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  renderActions() {\n    const { id } = this.props.match.params;\n    return (\n      <React.Fragment>\n        <button\n          onClick={() => this.props.deleteStream(id)}\n          className=\"ui button negative\"\n        >\n          Delete\n        </button>\n        <Link to=\"/\" className=\"ui button\">\n          Cancel\n        </Link>\n      </React.Fragment>\n    );\n  }\n  \"\";\n\n  renderContent() {\n    if (!this.props.stream) {\n      return \"Are you sure you want to delete this stream?\";\n    }\n\n    return `Are you sure you want to delete the stream with title: ${this.props.stream.title}?`;\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Delete Stream\"\n        content={this.renderContent()}\n        actions={this.renderActions()}\n        onDismiss={() => history.push(\"/\")}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream, deleteStream }\n)(StreamDelete);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { fetchStreams } from \"../../actions\";\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams();\n  }\n\n  renderAdmin(stream) {\n    if (stream.userId === this.props.currentUserId) {\n      return (\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\n            Edit\n          </Link>\n          <Link\n            to={`/streams/delete/${stream.id}`}\n            className=\"ui button negative\"\n          >\n            Delete\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  renderList() {\n    return this.props.streams.map(stream => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned icon camera\" />\n          <div className=\"content\">\n            <Link to={`/streams/${stream.id}`} className=\"header\">\n              {stream.title}\n            </Link>\n            <div className=\"description\">{stream.description}</div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  renderCreate() {\n    if (this.props.isSignedIn) {\n      return (\n        <div style={{ textAlign: \"right\" }}>\n          <Link to=\"/streams/new\" className=\"ui button primary\">\n            Create Stream\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">{this.renderList()}</div>\n        {this.renderCreate()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStreams }\n)(StreamList);\n","import React from \"react\";\nimport flv from \"flv.js\";\nimport { connect } from \"react-redux\";\nimport { fetchStream } from \"../../actions\";\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.videoRef = React.createRef();\n  }\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount() {\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n\n    const id = this.props.match.params.id;\n\n    this.player = flv.createPlayer({\n      type: \"flv\",\n      url: `http://localhost:8000/live/${id}.flv`\n    });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render() {\n    if (!this.props.stream) {\n      return <div>Loading...</div>;\n    }\n    const { title, description } = this.props.stream;\n    return (\n      <div>\n        <video ref={this.videoRef} style={{ width: \"100%\" }} controls={true} />\n        <h1>{title}</h1>\n        <h5>{description}</h5>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchStream }\n)(StreamShow);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { signIn, signOut } from \"../actions\";\n\nclass GoogleAuth extends React.Component {\n  componentDidMount() {\n    window.gapi.load(\"client:auth2\", () => {\n      window.gapi.client\n        .init({\n          clientId:\n            \"888980070687-8139jeumi8j41hp88hiif4sq37qsejtq.apps.googleusercontent.com\",\n          scope: \"email\"\n        })\n        .then(() => {\n          this.auth = window.gapi.auth2.getAuthInstance();\n          this.onAuthChange(this.auth.isSignedIn.get());\n          this.auth.isSignedIn.listen(this.onAuthChange);\n        });\n    });\n  }\n\n  onAuthChange = isSignedIn => {\n    if (isSignedIn) {\n      this.props.signIn(this.auth.currentUser.get().getId());\n    } else {\n      this.props.signOut();\n    }\n  };\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  };\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  };\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === null) {\n      return null;\n    } else if (this.props.isSignedIn) {\n      return (\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign Out\n        </button>\n      );\n    } else {\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign In with Google\n        </button>\n      );\n    }\n  }\n\n  render() {\n    return <div>{this.renderAuthButton()}</div>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\n\nexport default connect(\n  mapStateToProps,\n  { signIn, signOut }\n)(GoogleAuth);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport GoogleAuth from \"./GoogleAuth\";\n\nconst Header = () => {\n  return (\n    <div className=\"ui secondary pointing menu\">\n      <Link to=\"/\" className=\"item\">\n        Streamy\n      </Link>\n      <div className=\"right menu\">\n        <Link to=\"/\" className=\"item\">\n          All Streams\n        </Link>\n        <GoogleAuth />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport StreamCreate from \"./streams/StreamCreate\";\nimport StreamEdit from \"./streams/StreamEdit\";\nimport StreamDelete from \"./streams/StreamDelete\";\nimport StreamList from \"./streams/StreamList\";\nimport StreamShow from \"./streams/StreamShow\";\nimport Header from \"./Header\";\nimport history from \"../history\";\n\nconst App = () => {\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n        <div>\n          <Header />\n          <Switch>\n            <Route path=\"/\" exact component={StreamList} />\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload };\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport authReducer from \"./authReducer\";\nimport streamReducer from \"./streamReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  streams: streamReducer,\n  form: formReducer\n});\n","import _ from \"lodash\";\n\nimport {\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  CREATE_STREAM,\n  EDIT_STREAM,\n  DELETE_STREAM\n} from \"../actions/types\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_STREAMS:\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id]: action.payload };\n\n    case DELETE_STREAM:\n      return _.omit(state, action.payload);\n\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\n\nimport App from \"./components/App\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}